<div class="navbar navbar-default ng-scope" ng-if="auth.AccessLevel > 249">
  <ul class="nav navbar-nav">
    <li ng-class="{active: isActive('active')}"><a href="#/users/active">Active</a>
    </li>
    <li ng-class="{active: isActive('suspended')}"><a href="#/users/suspended">Suspended</a>
    </li>
    <li ng-class="{active: isActive('pending')}"><a href="#/users/pending">Pending</a>
    </li>
  </ul>
</div>
<table ng-if="isActive('active')">
  <tr>
    <td colspan="3">
      <button ng-click="currentPage = currentPage <= 0? 0 : currentPage - 1">previous</button>
      Page <span ng-init="currentPage=0">{{currentPage+1}}</span> of <span ng-init="maxPage=Math.ceil(activeUsers.length/25)">{{maxPage}}</span>
      <button ng-click="currentPage = currentPage >= maxPage-1 ? maxPage-1 : currentPage + 1">next</button>
    </td>
  </tr>
  <tr>
    <th>Name</th>
    <th>Email</th>
  </tr>
  <tr ng-repeat="u in activeUsers | orderBy: 'Name' | limitTo: 25: currentPage*25">
    <td>{{u.Name}}</td>
    <td>{{u.Email}}</td>
    <td ng-if="auth.AccessLevel > 249">
      <button style="float:right" ng-click="user.showGroups(u)">Groups</button>
      <button style="float:right" ng-click="user.showManage(u)">Manage</button>
    </td>
  </tr>
</table>
<table ng-if="isActive('suspended')">
  <tr>
    <th>Name</th>
    <th>Email</th>
  </tr>
  <tr ng-repeat="usr in suspendedUsers | orderBy:'Name'">
    <td>{{usr.Name}}</td>
    <td>{{usr.Email}}</td>
    <td>
      <button ng-if="auth.AccessLevel > 249" style="float:right" ng-click="user.showManage(u)">Restore</button>
    </td>
    <td>
      <button ng-if="auth.AccessLevel > 249" style="float:right" ng-click="user.showManage(u)">Delete</button>
    </td>
  </tr>
</table>
<table ng-if="isActive('pending')">
  <tr>
    <th>Name</th>
    <th>Email</th>
  </tr>
  <tr ng-repeat="usr in pendingUsers | orderBy:'Name'">
    <td>{{usr.Name}}</td>
    <td>{{usr.Email}}</td>
    <td>
      <button ng-if="auth.AccessLevel > 249" style="float:right" ng-click="user.showManage(u)">Review</button>
    </td>
  </tr>
</table>
